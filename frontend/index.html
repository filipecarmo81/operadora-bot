<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Operadora KPIs</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header>
    <h1>Operadora KPIs</h1>
    <p>Consumindo a API: <code id="apiBase"></code></p>
  </header>

  <main>
    <section class="card">
      <h2>Top Prestadores (impacto)</h2>
      <form id="formTop">
        <label>
          CompetÃªncia (YYYY-MM)
          <input type="month" id="compTop" required />
        </label>
        <label>
          Top N
          <input type="number" id="limitTop" value="10" min="1" max="50" />
        </label>
        <button type="submit">Consultar</button>
      </form>
      <div id="outTop" class="output"></div>
    </section>

    <section class="card">
      <h2>Sinistralidade (Ãºltima & mÃ©dia)</h2>
      <div class="row">
        <button id="btnUltima">Carregar Ãºltima</button>
        <button id="btnMedia">Carregar mÃ©dia</button>
      </div>
      <div id="outSini" class="output"></div>
    </section>

    <section class="card">
      <h2>UtilizaÃ§Ã£o â€” Resumo por filtros</h2>
      <form id="formUtil">
        <label>
          CompetÃªncia (YYYY-MM)
          <input type="month" id="compUtil" required />
        </label>
        <label>
          Produto (opcional)
          <input type="text" id="prodUtil" placeholder="cÃ³digo ou nome" />
        </label>
        <label>
          UF (opcional)
          <input type="text" id="ufUtil" placeholder="SP, RJ..." />
        </label>
        <label>
          Cidade (opcional)
          <input type="text" id="cidUtil" placeholder="SÃ£o Paulo, Rio..." />
        </label>
        <label>
          Sexo (opcional)
          <input type="text" id="sexoUtil" placeholder="M ou F" />
        </label>
        <label>
          Faixa etÃ¡ria (opcional)
          <input type="text" id="faixaUtil" placeholder="0-18, 19-59, 60+" />
        </label>
        <button type="submit">Consultar</button>
      </form>
      <div id="outUtil" class="output"></div>
    </section>
  </main>

  <footer>
    <a href="https://operadora-bot.onrender.com/docs" target="_blank">ðŸ”— Swagger da API</a>
  </footer>

  <script>
    // Base da API: use a URL do Render do backend
    window.API_BASE = 'https://operadora-bot.onrender.com';
  </script>
  <script src="./app.js"></script>
</body>
</html>
